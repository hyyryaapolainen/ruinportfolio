<!DOCTYPE html>
<html lang="en">
<head>
        <title> Ruin Portfolio </title>
        <meta charset="UTF-8">
        <link href="../styles.css" rel ="stylesheet" type="text/css">
        <meta name="description" content="Ruingame Technical Portfolio">
        <meta name="keywords" content ="Ruingame Technical Portfolio">
        <meta name="author" content ="Aapo H L7034">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://kit.fontawesome.com/262231e24c.js" crossorigin="anonymous"></script>
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@300&display=swap" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js" type="text/javascript"></script>
          
        <!-- nanogallery2 -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tobiasroeder/imagebox@1.3.0/dist/imagebox.min.css">
<script src="https://cdn.jsdelivr.net/gh/tobiasroeder/imagebox@1.3.0/dist/imagebox.min.js"></script>
   

    </head>
<body>
<!-- #region header-->
<div class="header">
        <ul class="nav-links">
                <li class="header-item">
                        <p class="header-text">Aapo Hyyryl√§inen</p>
                </li>
                <li class="header-item">
                        <a style="color: white;" class ="pageLink" href="https://hyyryaapolainen.github.io/ruinportfolio/">Ruin Portfolio </a>
                </li>
        </ul>
</div>
 <!-- #endregion -->
<!-- #region title-->
<div class="center">
<div class="content-container">
    <div class="content-title center" style="text-align: center; font-size: 100%; margin-bottom: 1em;">
    <h1>Programming</h1>
    </div>
</div>
<!-- #endregion -->
<!-- #region combatsystem -->
<div class="content-container title">
    <div class="content-title center" style="text-align: center; font-size: 120%">
        <h1>Combat System</h1></div>
</div>
<div class="content" style="margin-bottom: 5em">
    <div class="content-container split left">
        <div class="content-title" style="margin-bottom: 1em;">
            <h1>Overview</h1>
        </div>
            <div class="content-text">
                        <p>
                        I implemented our combat system according to a combat mechanic diagram provided to me by the content producers.
                        </p>
                        <br>
                        <p>
                        The goal was to make combat fluid with simple comboes, animation cancelling mechanics, utilize multiple weapons, critical hits and have status effects that affect entities.
                        </p> <br>
                        <p>
                        I used Unity's scriptable objects to create combo attacks that can each be given their own animation and attack parameters. I also experimented with creating an interface for the attack.
                        </p> <br>
                        <p>
                        Game Designers can choose from a multitude of options to easily create different attacks to create interesting comboes.
                        </p><br>
                        <p>
                        Attack handling will then use the combo pieces provided to execute attacks in sequence.
                        </p><br>
                        Animation cancelling is done inside the animator via checking the attack phase, which can be done with animation frame precision.
                        <p>  
             </div>
    </div>
    <div class="content-container split right border">
        <div class="content-gallery">
            <div class="gallery-image">
                <img src="../images/AttackInterface.png" alt="Attack" data-imagebox="g2">
                <p class="gallery-image-text">Attack Interface</p>
            </div>
            <div class="gallery-image">
                <img src="../images/AttackMelee.png" alt="Melee Attack" data-imagebox="g2">
                <p class="gallery-image-text" style="font-size: 80%;">Melee Attack</p>
            </div>
            <div class="gallery-image">
                <img src="../images/AttackInspector.png" alt="Attack Inspector" data-imagebox="g2">
                <p class="gallery-image-text">Attack Inspector</p>
            </div>
            <div class="gallery-image">
                <img src="../images/AttackBase.png" alt="Attack Logic" data-imagebox="g2">
                <p class="gallery-image-text">Attack Logic</p>
            </div>
            <div class="gallery-image">
                <img src="../images/GetAoEtTargets.png" alt="AoE targeting" data-imagebox="g2">
                <p class="gallery-image-text">AoE Targeting</p>
            </div>
            <div class="gallery-image">
                <img src="../images/playerAnimator.png" alt="Player Animator" data-imagebox="g2">
                <p class="gallery-image-text">Player Animator</p>
            </div>
        </div>
    </div>
</div>
<!-- #endregion-->
<!-- #region experiences -->
<div class="content-title" style="margin-bottom: 1em;">
    <h1>Experiences</h1>
</div>
<div class ="content-container">
        <div class="content-text-full">
            <p>
            The main challenge was implementing from design; Combat calculations were precisely determined but attack timings and making the system as modifiable as possible provided challenge in both implementation and planning
            </p><br>
            <p>
            Overall I met both goals in the system being easily accessible from the inspector and being expandable if more weapons or attacks were to be added.
            </p><br>
            <p>
            This system taught me about implementing from design documentation where I have to consult the game designers about how they want the system to work and look like in their hands.
            </p><br>
            <p>
            I wanted to use C# interfaces as a part of studying better programming practices. I feel like I got a grasp of how to use an interface when designing a feature but when to use one requires a bit more work in the future.
            </p><br>
            <p>
            Currently the game has only one simple sword combo for the player and the enemies only use a single base attack. Adding different attacks would allow the player to attack in different patterns. 
            </p><br>
            <p>
            Status effects exist in code but aren't tested for production and there is no planned way of them being afflicted to entities.
            </p>
        </div>
</div>
<!-- #endregion-->
<!-- #region enemyai -->
<div class="content-container title">
    <div class="content-title center" style="text-align: center; font-size: 120%"><h1>Enemy Ai</h1></div>
</div>
<div class="content">
    <div class="content-container split left">
        <div class="content-title" style="margin-bottom: 1em;">
            <h1>Overview</h1>
        </div>
        <div class="content-text">
                <p>
                    I designed and developed our core AI and pathfinding using a weighted system where the enemy will select a random point in it's patrol area if it has not yet located the player.
                </p>
                <br>
                <p>
                    Once an enemy spots the player, they will all alert to the player and try to pathfind towards to player. 
                </p> <br>
                <p>
                    The system uses directed raycasts to determine if any obstacles to the path is hit and then weighs that specific direction using simple parameters given.
                </p> <br>
                <p>
                    After the player is in attack range, the enemy will execute an attack that can be cancelled by the player by stunning it.
                    </p><br>
                    <p>
                    After attacking the enemy will attempt to move towards the player again until it kills the player or dies itself.
                    </p>  
        </div>
    </div>
    <div class="content-container split right border" >
        <div class="content-gallery">
            <div class="gallery-image">
                <img src="../images/BaseState.png" alt="Base State" data-imagebox="g1">
                <p class="gallery-image-text">Base State</p>
            </div>
            <div class="gallery-image">
                <img src="../images/EnemyStateMachine.png" alt="Enemy Statemachine" data-imagebox="g1">
                <p class="gallery-image-text" style="font-size: 80%;">Enemy State Machine</p>
            </div>
            <div class="gallery-image">
                <img src="../images/MovetowardsPlayer.png" alt="Example state" data-imagebox="g1">
                <p class="gallery-image-text">Example State</p>
            </div>
            <div class="gallery-image">
                <img src="../images/Weighted.png" alt="Weighing direction values" data-imagebox="g1">
                <p class="gallery-image-text">Weighing Direction</p>
            </div>
            <div class="gallery-image">
                <img src="../images/EnemyPathfinding.png" alt="Enemy Pathfinding Logic" data-imagebox="g1">
                <p class="gallery-image-text">Enemy Pathfinding</p>
            </div>
            <div class="gallery-image">
                <img src="../images/enemyDesign.png" alt="Enemy AI Design" data-imagebox="g1">
                <p class="gallery-image-text">Enemy AI design</p>
            </div>
        </div>
    </div>
</div>
<!-- #endregion-->
<!-- #region enemyaivideo-->
<div class="content-container" style="margin-top: 5em">
    <video width="100%" height="600" controls>
        <source src="../videos/EnemyView.mp4" type="video/mp4">
    </video>
    <p>Enemy vision visualization</p>
</div>
<!-- #endregion-->
<!-- #region experiences-->
<div class="content-title" style="margin-bottom: 1em;">
    <h1>Experiences</h1>
</div>
<div class ="content-container">
        <div class="content-text-full">
            <p>
                The main challenge was in making the enemy predictable enough so that the player can dodge and avoid their attacks but
                 still providing challenging content to the player.
            </p><br>
            <p>
                Overall the pathfinding works in the environments but it could use more parameters to determine a path such as other enemy locations and player proximity.
                </p><br>
                <p>
                The design process and the document resulting from it really helped me understand the amount of work to make something basic work both mechanically
                and in game feel.
                </p><br>
                <p>
                The enemies could also be more responsive to player actions but I feel like I gained a basic understanding of both the design and implementation of enemy AI. 
                </p><br>
                <p>
                For example, just making the enemy move towards the player limits the player's options to deal with the threat. Adding delays and readability to their actions instantly gives the player more choice in their approach to combat situations.¬®
                </p><br>
                <p>
                Visualizing the enemy attack range in game and in editor is something that should be done via either VFX or debug gizmos.
                </p><br>
                <p>
                Creating design documentation by myself really helped me in understanding how many moving parts actually need to be described for the instructions to be clear and measurable to implement.
                </p><br>
                <p>
                    Currently the game has only the melee variant of enemy AI implemented but the groundwork allows for the expansion of the enemy AI which was one of my set learning goals. 
                </p>
        </div>
</div>
<!-- #endregion -->
<!-- #region controller support-->
<div class="content-container title">
    <div class="content-title center" style="text-align: center; font-size: 100%">
        <h1>Controller Support</h1></div>
</div>
<div class="content" style="margin-bottom: 5em;">
    <div class="content-container split left">
        <div class="content-title" style="margin-bottom: 1em;">
            <h1>Overview</h1>
        </div>
        <div class="content-text">
                <p>
               One of the key features we had envisioned was having controller support for the game.
                </p>
                <br>
                <p>
                I used Unity's Input System package to accept both mouse and keyboard as well as controller inputs simultaneously in-game.
                </p> <br>
                <p>
                Ensuring that the controller input would be equally fluid required constant testing using both input methods.
                </p> <br>
                <p>
                Controlling the character and various menus is possible using both input methods and transitions between them are smooth.
                </p> <br>
                <p>
                The input system uses events that can be subscribed to, that let various scripts know which inputs have been entered and use them in their logic.
                </p>
        </div>
    </div>
    <div class="content-container split right border">
        <div class="content-gallery">
            <div class="gallery-image">
                <img src="../images/inputreaderevents.png" alt="Input Events" data-imagebox="g3">
                <p class="gallery-image-text">Input Events</p>
            </div>
            <div class="gallery-image">
                <img src="../images/inputreader.png" alt="Example Inputs" data-imagebox="g3">
                <p class="gallery-image-text">Example Inputs</p>
            </div>
            <div class="gallery-image">
                <img src="../images/usingtheinput.png" alt="Using Input" data-imagebox="g3">
                <p class="gallery-image-text">Using Input</p>
            </div>
            <div class="gallery-image">
                <img src="../images/playerInputPackage.png" alt="Input Package" data-imagebox="g3">
                <p class="gallery-image-text">Input Package</p>
            </div>
            <div class="gallery-image">
                <img src="../images/SkillUser.png" alt="Skill User" data-imagebox="g3">
                <p class="gallery-image-text">Skill User</p>
            </div>
            <div class="gallery-image">
                <img src="../images/event.png" alt="Ui event" data-imagebox="g3">
                <p class="gallery-image-text">Skill Ui Update</p>
            </div>
        </div>
    </div>
</div>
        
<!-- #endregion-->
<!-- #region experiences-->
<div class="content-title" style="margin-bottom: 1em;">
    <h1>Experiences</h1>
</div>
<div class ="content-container">
        <div class="content-text-full">
            <p>
                The main challenge was in making sure that both inputs feel natural and can be switched between fluidly. Unity's Input System package made the progress easy to understand.
            </p><br>
            <p>
            Unity Events, C# Events and delegates were new topics to me and I needed to refer to Unity documentation often to fully grasp the process behind them. I gained a decent understanding on how and when to use these techniques and used events later in refactoring the skill code.
            </p><br>
            <p>
            Constant testing with both methods of input increased the workload for every feature but in the end the controller gameplay feels better in my opinion than playing with the standard MnK input.
                </p><br>
                <p>
            Custom Key Remapping was a requested feature that we did not have the time to start implementing.
                </p><br>
                <p>
                    Currently the game works using both MnK and controller inputs and they can be swapped between in runtime.
                </p><br>
        </div>
</div>
<!-- #endregion-->
<!-- #region summary -->
<div class="content-container title">
    <div class="content-title center" style="text-align: center; font-size: 100%">
        <h1>Summary</h1></div>
</div>
<div class="content" style="margin-bottom: 5em;">
    <div class="content-container split left">
        <div class="content-title" style="margin-bottom: 1em;">
            <h1>Overview</h1>
        </div>
        <div class="content-text">
                <p>
                Started out with basic understanding of Unity and C# with no idea how interfaces, events or delegates work. Put everything in Update() instead of calling methods when needed.
                </p>
                <br>
                <p>
                Read a <a style="color: black" href="https://gameprogrammingpatterns.com/">small book</a> about game programming patterns that helped understand the scale of thinking one should employ in a game project.
                </p> <br>
                <p>
                Learned Unity Editor scripts, Gizmos and thinking towards making inspector accessible to game designers.
                </p> <br>
                <p>
                Learned to use interfaces, events and delegates in C#. Singleton pattern was useful in managers. Best practices are still a question mark.
                </p> <br>
                <p>
                Procedural generation was never done but learning goals towards making overall better performing and extendable code were met. Readability is a future goal.
                </p>
        </div>
    </div>
    <div class="content-container split right border">
        <div class="content-gallery">
            <div class="gallery-image">
                <img src="../images/oldnew.png" alt="Old code" data-imagebox="g4">
                <p style ="color: black; text-shadow: none" class="gallery-image-text">Old code</p>
            </div>
            <div class="gallery-image">
                <img src="../images/Movement.png" alt="Update Loop" data-imagebox="g4">
                <p class="gallery-image-text">Understanding Update</p>
            </div>
            <div class="gallery-image">
                <img src="../images/To Improve.png" alt="Code to improve" data-imagebox="g4">
                <p class="gallery-image-text">Code to improve</p>
            </div>
            <div class="gallery-image">
                <img src="../images/EditorScript.png" alt="Editor" data-imagebox="g4">
                <p class="gallery-image-text">Editor Script</p>
            </div>
            <div class="gallery-image">
                <img src="../images/Screenshot_24.png" alt="Gizmos" data-imagebox="g4">
                <p class="gallery-image-text">Gizmos</p>
            </div>
            <div class="gallery-image">
                <img src="../images/contribution.png" alt="contribution" data-imagebox="g4">
                <p class="gallery-image-text">Contribution</p>
            </div>
        </div>
    </div>
</div>
       
<!-- #endregion -->
<!-- #region experiences-->
<div class="content-title" style="margin-bottom: 1em;">
    <h1>Experiences</h1>
</div>
<div class ="content-container">
        <div class="content-text-full">
            <p>
            I wanted to challenge myself to find new ways to do mechanics I've already implemented before and to create a more structured game architecture
            </p><br>
            <p>
            In some systems, I succeeded (Combat System) and in some I got it working (Room Selection) but there's always room for improvement.
            </p><br>
            <p>
            After succesfully creating something that functions, looks good in the inspector and is expandable, I kept trying to emulate that success instead of figuring a new way of implementing the feature. 
            </p><br>
            <p>
            For example, seeing how well the singleton pattern worked in Game Manager, I immediately copied it into the player manager and skill selection manager.
            </p><br>
            <p>
            I'd say I managed to create 90% of the features correctly and working but the game feel is lacking and some of the code is functioning but not pretty. "Is this a correct way of doing this?" is a question I ask myself often.
            </p><br>
            <p>
            I've become better at identifying and solving problems in the code implementation but my understanding of game design is holding me back.
            </p><br>
            <p>
            Lots of responsibility being placed on me. I produced ~80% of the game's codebase and was responsible for all of the base systems and gameplay loop logic.
            </p>
        </div>
</div>
<!-- #endregion -->
<!-- #region returntomain-->
    <div class="content-container">
        <div class="content">
        <p style="width: 100px"></p>
        <a style ="font-size: 30px; text-align: center;" class="pageLink"
         href="https://hyyryaapolainen.github.io/ruinportfolio#programming">Back to Main</a>
            <a style ="font-size: 30px; text-align: center;" class="pageLink"
             href="./Testing.html">Testing</a>
            </div>
        </div>
</div>
<!-- #endregion -->
 <!-- #region footer -->
 <footer>
        <div class="footer">
            <ul class="footer-links">
                <li>
                    <a  href="mailto:a.hyyrylainen79@gmail.com"><i class="fa fa-envelope"></i></a>
                </li>
                <li>
                    <a href="https://github.com/hyyryaapolainen/"><i class="fab fa-github-square"></i></a>
                </li>
                <li>
                    <a href="https://www.linkedin.com/in/aapo-hyyryl%C3%A4inen-72baa7158/"><i class="fab fa-linkedin"></i></a>
                </li>
            </ul>
        </div>
        </footer>
 <!-- #endregion -->
 <!-- (c) 2021 Aapo Hyyryl√§inen L7034-->
 <!-- Additional JS-->

</body>
</html>
